import { Err, Ok } from "./core/result.js";
import { None, Some } from "./core/option";
function toResult(du) {
    if (du.success) {
        return Ok(du.data);
    }
    return Err(du.error);
}
function parseJSON(raw) {
    try {
        const json = JSON.parse(raw);
        return Ok(json);
    }
    catch (e) {
        return Err(e);
    }
}
function stringToOption(s) {
    if (s == null) {
        return None();
    }
    return s.length === 0 ? None() : Some(s);
}
function emoji(a) {
    switch (a) {
        case "pass":
            return "✅";
        case "fail":
            return "❌";
        case "warn":
            return "⚠️";
        default:
            return "❓";
    }
}
function resultToColor(a) {
    switch (a) {
        case "pass":
            return "green";
        case "fail":
            return "red";
        case "warn":
            return "orange";
        default:
            return "lightgrey";
    }
}
function resultToMarkdown(p) {
    if (p.fail.length + p.warn.length + p.pass.length === 0)
        return "";
    const fail = p.fail.map((x) => `* ${emoji("fail")} ${x}`);
    const warn = p.warn.map((x) => `* ${emoji("warn")} ${x}`);
    const pass = p.pass.map((x) => `* ${emoji("pass")} ${x}`);
    return `**Policies:**\n${[...fail, ...warn, ...pass].join("\n")}`;
}
export { toResult, parseJSON, stringToOption, emoji, resultToMarkdown, resultToColor, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvdXRpbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBVSxNQUFNLGtCQUFrQixDQUFDO0FBQ25ELE9BQU8sRUFBRSxJQUFJLEVBQVUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBR25ELFNBQVMsUUFBUSxDQUNmLEVBQW9FO0lBRXBFLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTtRQUNkLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNwQjtJQUNELE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBRUQsU0FBUyxTQUFTLENBQUksR0FBVztJQUMvQixJQUFJO1FBQ0YsTUFBTSxJQUFJLEdBQU0sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNoQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNqQjtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxHQUFHLENBQUMsQ0FBVSxDQUFDLENBQUM7S0FDeEI7QUFDSCxDQUFDO0FBRUQsU0FBUyxjQUFjLENBQUMsQ0FBNEI7SUFDbEQsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO1FBQ2IsT0FBTyxJQUFJLEVBQUUsQ0FBQztLQUNmO0lBQ0QsT0FBTyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMzQyxDQUFDO0FBRUQsU0FBUyxLQUFLLENBQUMsQ0FBZTtJQUM1QixRQUFRLENBQUMsRUFBRTtRQUNULEtBQUssTUFBTTtZQUNULE9BQU8sR0FBRyxDQUFDO1FBQ2IsS0FBSyxNQUFNO1lBQ1QsT0FBTyxHQUFHLENBQUM7UUFDYixLQUFLLE1BQU07WUFDVCxPQUFPLElBQUksQ0FBQztRQUNkO1lBQ0UsT0FBTyxHQUFHLENBQUM7S0FDZDtBQUNILENBQUM7QUFFRCxTQUFTLGFBQWEsQ0FBQyxDQUFlO0lBQ3BDLFFBQVEsQ0FBQyxFQUFFO1FBQ1QsS0FBSyxNQUFNO1lBQ1QsT0FBTyxPQUFPLENBQUM7UUFDakIsS0FBSyxNQUFNO1lBQ1QsT0FBTyxLQUFLLENBQUM7UUFDZixLQUFLLE1BQU07WUFDVCxPQUFPLFFBQVEsQ0FBQztRQUNsQjtZQUNFLE9BQU8sV0FBVyxDQUFDO0tBQ3RCO0FBQ0gsQ0FBQztBQUVELFNBQVMsZ0JBQWdCLENBQUMsQ0FBYTtJQUNyQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxLQUFLLENBQUM7UUFBRSxPQUFPLEVBQUUsQ0FBQztJQUNuRSxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxRCxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxRCxNQUFNLElBQUksR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsS0FBSyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxRCxPQUFPLGtCQUFrQixDQUFDLEdBQUcsSUFBSSxFQUFFLEdBQUcsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUM7QUFDcEUsQ0FBQztBQUVELE9BQU8sRUFDTCxRQUFRLEVBQ1IsU0FBUyxFQUNULGNBQWMsRUFDZCxLQUFLLEVBQ0wsZ0JBQWdCLEVBQ2hCLGFBQWEsR0FDZCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgWm9kRXJyb3IgfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgeyBFcnIsIE9rLCBSZXN1bHQgfSBmcm9tIFwiLi9jb3JlL3Jlc3VsdC5qc1wiO1xuaW1wb3J0IHsgTm9uZSwgT3B0aW9uLCBTb21lIH0gZnJvbSBcIi4vY29yZS9vcHRpb25cIjtcbmltcG9ydCB7IFBvbGljeURhdGEsIFBvbGljeVJlc3VsdCB9IGZyb20gXCIuL2lucHV0XCI7XG5cbmZ1bmN0aW9uIHRvUmVzdWx0PFQ+KFxuICBkdTogeyBzdWNjZXNzOiB0cnVlOyBkYXRhOiBUIH0gfCB7IHN1Y2Nlc3M6IGZhbHNlOyBlcnJvcjogWm9kRXJyb3IgfVxuKTogUmVzdWx0PFQsIFpvZEVycm9yPiB7XG4gIGlmIChkdS5zdWNjZXNzKSB7XG4gICAgcmV0dXJuIE9rKGR1LmRhdGEpO1xuICB9XG4gIHJldHVybiBFcnIoZHUuZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBwYXJzZUpTT048VD4ocmF3OiBzdHJpbmcpOiBSZXN1bHQ8VCwgRXJyb3I+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBqc29uOiBUID0gSlNPTi5wYXJzZShyYXcpO1xuICAgIHJldHVybiBPayhqc29uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBFcnIoZSBhcyBFcnJvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RyaW5nVG9PcHRpb24oczogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IE9wdGlvbjxzdHJpbmc+IHtcbiAgaWYgKHMgPT0gbnVsbCkge1xuICAgIHJldHVybiBOb25lKCk7XG4gIH1cbiAgcmV0dXJuIHMubGVuZ3RoID09PSAwID8gTm9uZSgpIDogU29tZShzKTtcbn1cblxuZnVuY3Rpb24gZW1vamkoYTogUG9saWN5UmVzdWx0KSB7XG4gIHN3aXRjaCAoYSkge1xuICAgIGNhc2UgXCJwYXNzXCI6XG4gICAgICByZXR1cm4gXCLinIVcIjtcbiAgICBjYXNlIFwiZmFpbFwiOlxuICAgICAgcmV0dXJuIFwi4p2MXCI7XG4gICAgY2FzZSBcIndhcm5cIjpcbiAgICAgIHJldHVybiBcIuKaoO+4j1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCLinZNcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bHRUb0NvbG9yKGE6IFBvbGljeVJlc3VsdCkge1xuICBzd2l0Y2ggKGEpIHtcbiAgICBjYXNlIFwicGFzc1wiOlxuICAgICAgcmV0dXJuIFwiZ3JlZW5cIjtcbiAgICBjYXNlIFwiZmFpbFwiOlxuICAgICAgcmV0dXJuIFwicmVkXCI7XG4gICAgY2FzZSBcIndhcm5cIjpcbiAgICAgIHJldHVybiBcIm9yYW5nZVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJsaWdodGdyZXlcIjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXN1bHRUb01hcmtkb3duKHA6IFBvbGljeURhdGEpOiBzdHJpbmcge1xuICBpZiAocC5mYWlsLmxlbmd0aCArIHAud2Fybi5sZW5ndGggKyBwLnBhc3MubGVuZ3RoID09PSAwKSByZXR1cm4gXCJcIjtcbiAgY29uc3QgZmFpbCA9IHAuZmFpbC5tYXAoKHgpID0+IGAqICR7ZW1vamkoXCJmYWlsXCIpfSAke3h9YCk7XG4gIGNvbnN0IHdhcm4gPSBwLndhcm4ubWFwKCh4KSA9PiBgKiAke2Vtb2ppKFwid2FyblwiKX0gJHt4fWApO1xuICBjb25zdCBwYXNzID0gcC5wYXNzLm1hcCgoeCkgPT4gYCogJHtlbW9qaShcInBhc3NcIil9ICR7eH1gKTtcbiAgcmV0dXJuIGAqKlBvbGljaWVzOioqXFxuJHtbLi4uZmFpbCwgLi4ud2FybiwgLi4ucGFzc10uam9pbihcIlxcblwiKX1gO1xufVxuXG5leHBvcnQge1xuICB0b1Jlc3VsdCxcbiAgcGFyc2VKU09OLFxuICBzdHJpbmdUb09wdGlvbixcbiAgZW1vamksXG4gIHJlc3VsdFRvTWFya2Rvd24sXG4gIHJlc3VsdFRvQ29sb3IsXG59O1xuIl19